title: The Geek House

resources:
  - url: /local/community/bar-card/bar-card.js
    type: js
  - url: /local/community/button-card/button-card.js
    type: module
  - url: /local/community/lovelace-card-modder/card-modder.js
    type: module
  - url: /local/community/lovelace-card-tools/card-tools.js
    type: js
  - url: /local/community/circle-sensor-card/circle-sensor-card.js
    type: module
  - url: /local/community/custom-header/custom-header.js
    type: module
  - url: /local/community/dark-sky-weather-card/dark-sky-weather-card.js
    type: module
  - url: /local/community/lovelace-fold-entity-row/fold-entity-row.js
    type: js
  - url: /local/community/lovelace-gap-card/gap-card.js
    type: js
  - url: /community_plugin/mini-graph-card/mini-graph-card-bundle.js
    type: module
  - url: /community_plugin/mini-media-player/mini-media-player-bundle.js
    type: module
  - url: /local/custom_ui/moment.js
    type: js
  - url: /local/community/text-divider-row/text-divider-row.js
    type: module
  - url: /local/community/vertical-stack-in-card/vertical-stack-in-card.js
    type: js
  - url: /local/community/config-template-card/config-template-card.js
    type: module 
  - url: /local/community/simple-thermostat/simple-thermostat.js
    type: module
  - url: /local/community/list-card/list-card.js
    type: js
  - url: /local/community/text-element/text-element.js
    type: js
  - url: /local/community/lovelace-card-preloader/lovelace-card-preloader.js
    type: js

# Preload Cards

preload:
  - picture-elements

#################################################################
#                                                               #
#                    Compact Header Config                      #
#                                                               #
################################################################# 

custom_header:
  background: 'rgba(150, 150, 150, 0.2)'
  compact_mode: true
  hide_config: true
  hide_unused: true
  hide_help: true
  button_text:
    options: '{{ time }}<br>{{ date }}'
  default_tab: '0'

#############################################################################################################################################
#                                                                                                                                           # 
#                                                                BEGIN VIEWS                                                                #
#                                                                                                                                           #
#############################################################################################################################################  
 
background: center / cover no-repeat url("/local/lovelace/background_19.png") fixed
views: 
  
#############################################################################################################################################
#                                                                                                                                           # 
#                                                               VIEW 0 - HOME                                                               #
#                                                                                                                                           #
#############################################################################################################################################  

  - id: 0
    icon: mdi:castle
    name: Home
    cards:

#################################################################
#                                                               #
#                      Home - Weather Card                      #
#                                                               #
#################################################################

        - type: vertical-stack
          cards:
            - type: 'custom:dark-sky-weather-card'
              entity_current_conditions: sensor.dark_sky_icon
              entity_temperature: sensor.aquara_outside_temperature
              entity_forecast_high_temp_1: sensor.dark_sky_daytime_high_temperature_1d
              entity_forecast_high_temp_2: sensor.dark_sky_daytime_high_temperature_2d
              entity_forecast_high_temp_3: sensor.dark_sky_daytime_high_temperature_3d
              entity_forecast_high_temp_4: sensor.dark_sky_daytime_high_temperature_4d
              entity_forecast_high_temp_5: sensor.dark_sky_daytime_high_temperature_5d
              entity_forecast_icon_1: sensor.dark_sky_icon_1d
              entity_forecast_icon_2: sensor.dark_sky_icon_2d
              entity_forecast_icon_3: sensor.dark_sky_icon_3d
              entity_forecast_icon_4: sensor.dark_sky_icon_4d
              entity_forecast_icon_5: sensor.dark_sky_icon_5d
              entity_forecast_low_temp_1: sensor.dark_sky_overnight_low_temperature_1d
              entity_forecast_low_temp_2: sensor.dark_sky_overnight_low_temperature_2d
              entity_forecast_low_temp_3: sensor.dark_sky_overnight_low_temperature_3d
              entity_forecast_low_temp_4: sensor.dark_sky_overnight_low_temperature_4d
              entity_forecast_low_temp_5: sensor.dark_sky_overnight_low_temperature_5d
              entity_summary_1: sensor.dark_sky_summary_1d
              entity_summary_2: sensor.dark_sky_summary_2d
              entity_summary_3: sensor.dark_sky_summary_3d
              entity_summary_4: sensor.dark_sky_summary_4d
              entity_summary_5: sensor.dark_sky_summary_5d
              ## Optional Parameters ##
              entity_sun: sun.sun
              entity_visibility: sensor.dark_sky_visibility
              entity_wind_bearing: sensor.dark_sky_wind_bearing
              entity_wind_speed: sensor.dark_sky_wind_speed
              entity_humidity: sensor.aquara_outside_humidity
              entity_pressure: sensor.aquara_outside_pressure
              entity_daily_summary: sensor.dark_sky_daily_summary
              entity_pop_intensity: sensor.dark_sky_precip_intensity
              entity_pop_1: sensor.dark_sky_precip_probability_1d
              entity_pop_2: sensor.dark_sky_precip_probability_2d
              entity_pop_3: sensor.dark_sky_precip_probability_3d
              entity_pop_4: sensor.dark_sky_precip_probability_4d
              entity_pop_5: sensor.dark_sky_precip_probability_5d
              entity_daytime_high: sensor.dark_sky_daytime_high_temperature_0d
              entity_pop: sensor.dark_sky_precip_probability_0d

#################################################################
#                                                               #
#                       Home - Cameras                          #
#                                                               #
################################################################# 
            - type: glance
              columns: 4
              show_name: true
              show_state: false
              entities:
                  - entity: camera.front_porch
                  - entity: camera.back_porch
                  - entity: camera.den
                  - entity: camera.kitchen

#################################################################
#                                                               #
#                          Home - HVAC                          #
#                                                               #
################################################################# 
        - type: vertical-stack
          cards: 
            - type: custom:vertical-stack-in-card
              cards:
                  - type: custom:simple-thermostat
                    entity: climate.home
                    icon: mdi:thermostat-box
                    step_size: 1
                    decimals: 0
                    sensors:
                    - attribute: current_humidity
                      name: Humidity
                      unit: "%"
                    - entity: sensor.hvac_system_state
                      name: State
                    hide:
                      state: true
                    control:
                      - hvac:
                          mode: none
                    

                  - type: horizontal-stack
                    cards:    

                      - type: custom:bar-card
                        title: 'Heat:'
                        entity: sensor.hvac_system_heat_runtime
                        title_position: inside
                        align: center
                        padding: 4px
                        card_style: 
                          border-radius: 5px
                        max: 24
                        color: red
                        
                      - type: custom:bar-card
                        title: 'Cool:'
                        entity: sensor.hvac_system_cool_runtime
                        title_position: inside
                        align: center
                        padding: 4px
                        card_style: 
                          border-radius: 5px
                        max: 24
                        color: blue
                  - type: horizontal-stack
                    cards:      

                      - type: custom:bar-card
                        title: 'Fan:'
                        entity: sensor.hvac_system_fan_runtime
                        title_position: inside
                        align: center
                        padding: 4px
                        card_style: 
                          border-radius: 5px
                        max: 24
                        color: green
                        
                      - type: custom:bar-card
                        title: 'Total:'
                        entity: sensor.hvac_system_runtime
                        title_position: inside
                        align: center
                        padding: 4px
                        card_style: 
                          border-radius: 5px
                        max: 24

#################################################################
#                                                               #
#                       Home - Buttons                          #
#                                                               #
################################################################# 
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: switch.driveway
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:road
                  name: Driveway
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: light.front_porch_1
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:door
                  name: Front Porch
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: light.entry
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:ceiling-light
                  name: Entry
                  hold_action: 
                    action: more-info

            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: switch.right_back_porch
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:spotlight
                  name: L Flood
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: switch.back_porch_1
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:door
                  name: Back Porch
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: switch.left_back_porch
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:spotlight
                  name: R Flood
                  hold_action: 
                    action: more-info
            
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: switch.den_lamp
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:lamp
                  name: Den
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: light.master_lamp
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:lamp
                  name: Master
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: light.guest_lamp
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:lamp
                  name: Guest
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: light.craft_room_lamp
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:lamp
                  name: Craft
                  hold_action: 
                    action: more-info
            # - type: horizontal-stack
            #   cards:                    
            #     - type: "custom:gap-card"
            #     - type: "custom:gap-card"
            #     - type: "custom:gap-card"
            #     - type: "custom:button-card"
            #       entity: switch.christmas_tree
            #       color_type: icon
            #       color: rgb(228, 94, 101)
            #       icon: mdi:pine-tree
            #       name: Tree
            #       hold_action: 
            #         action: more-info
################################################################
#                                                               #
#                          Home - Laundry                       #
#                                                               #
################################################################# 
        - type: vertical-stack
          cards: 
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"
                - type: "custom:button-card"
                  entity: sensor.washer_state
                  color_type: icon
                  icon: mdi:washing-machine
                  state:
                    - value: "Washing"
                      color: rgb(228, 94, 101)
                      name: Washing
                    - value: "Idle"
                      color: rgb(255, 255, 255)
                      name: Idle   
                  tap_action:
                    action: call-service
                    service: script.popup_washer
                    service_data:
                      deviceID: 
                        - this                
                  hold_action: 
                    action: call-service
                    service: script.popup_washer
                    service_data:
                      deviceID: 
                        - this

                - type: "custom:button-card"
                  entity: sensor.dryer_state
                  color_type: icon
                  icon: mdi:tumble-dryer
                  state:
                    - value: "Drying"
                      color: rgb(228, 94, 101)
                      name: Drying
                    - value: "Idle"
                      color: rgb(255, 255, 255)
                      name: Idle
                    - value: "Door Open"
                      color: rgb(255, 200, 0)
                      name: Door                    
                  tap_action:
                    action: call-service
                    service: script.popup_dryer
                    service_data:
                      deviceID: 
                        - this              
                  hold_action: 
                    action: call-service
                    service: script.popup_dryer
                    service_data:
                      deviceID: 
                        - this
                - type: "custom:gap-card"

#################################################################
#                                                               #
#                      Home - Alarm                             #
#                                                               #
################################################################# 
            - type: alarm-panel
              name: House Alarm
              states:
                - arm_home
                - arm_away
                - arm_night
              entity: alarm_control_panel.area_001

#############################################################################################################################################
#                                                                                                                                           # 
#                                                          VIEW 5 - SYSTEM STATUS                                                          #
#                                                                                                                                           #
#############################################################################################################################################

  - id: 1
    icon: mdi:server-network
    name: System Status
    cards:
       
#################################################################
#                                                               #
#                  System Status - Internet Card                #
#                                                               #
#################################################################

      - type: vertical-stack
        cards:
          - type: custom:vertical-stack-in-card
            cards:
            - type: custom:mini-graph-card
              entities: 
                - sensor.wan_ping
              height: 20
              line_width: 2
              font_size: 70
              hours_to_show: 24
              points_per_hour: 6
              icon: mdi:pulse
              show:
                #extrema: true
                fill: true
                graph: bar
              color_thresholds:
                - value: 25
                  color: "#FF0000"
                - value: 0
                  color: "#3498db"
              
            - type: horizontal-stack
              cards:          
                - type: custom:bar-card
                  title: WAN IN
                  entity: sensor.wan_in_mbps
                  title_position: inside
                  align: center
                  padding: 4px
                  card_style: 
                    border-radius: 5px
                  max: 1000
                  severity:
                  - value: 99
                    color: '#00ff00'
                  - value: 499
                    color: '#ffff00'
                  - value: 1000
                    color: '#ff0000'

                - type: custom:bar-card
                  title: WAN OUT
                  entity: sensor.wan_out_mbps
                  title_position: inside
                  align: center
                  padding: 4px
                  card_style: 
                    border-radius: 5px
                  max: 1000
                  severity:
                  - value: 99
                    color: '#00ff00'
                  - value: 499
                    color: '#ffff00'
                  - value: 1000
                    color: '#ff0000'

#################################################################
#                                                               #
#                    System Status - NAS Card                   #
#                                                               #
#################################################################
           
          - type: custom:vertical-stack-in-card
            cards:
            - type: picture-elements
              image: /local/lovelace/room.png
              elements:
                - entity: sensor.blank
                  hold-action: none
                  prefix: "NAS "
                  style:
                    bottom: 20%
                    font-size: 150%
                    left: 5%
                    transform: initial
                  tap-action: none
                  type: state-label
                - entity: sensor.nas_uptime
                  prefix: "Uptime: "
                  style:
                    bottom: 23%
                    font-size: 110%
                    right: 5%
                    transform: initial
                  type: state-label
            - type: horizontal-stack
              cards:
              
              
              - type: horizontal-stack
                cards:  
                - type: custom:circle-sensor-card
                  entity: sensor.synology_dsm_volume_used_volume_1
                  max: 100
                  min: 0
                  stroke_width: 15
                  gradient: true
                  fill: '#383C45'
                  name: Used
                  units: '%'
                  color_stops:
                    80: '#00ff00'
                    100: '#ff0000'
                  font_style: {font-size: 1.1em, font-color: white, text-shadow: '2px 2px black'}
                  style: {top: 5%, left: 80%, width: 6em, height: 6em, transform: none}
                - type: custom:vertical-stack-in-card
                  cards:
                  - type: custom:bar-card
                    title_position: top
                    title: Recordings
                    show_icon: true
                    align: center
                    padding: 1.5px
                    height: 40
                    card_style: 
                      border-radius: 5px
                    columns: 1
                    max: 200
                    entities:
                      - entity: sensor.synology_dsm_average_disk_temp_volume_1
                        icon: mdi:thermometer
                        unit_of_measurement: '°F'
                        
                        severity:
                        - value: 130
                          color: '#1db954'
                        - value: 140
                          color: '#bf9540'
                        - value: 150
                          color: '#bf4040'
                  - type: custom:bar-card
                    title_position: top
                    title: CPU
                    show_icon: true
                    align: center
                    padding: 1.5px
                    height: 40
                    card_style: 
                      border-radius: 5px
                    columns: 1
                    max: 100
                    entities:
                      - entity: sensor.synology_dsm_cpu_load_total
                        icon: mdi:flash
                        unit_of_measurement: '%'
                        
                        severity:
                        - value: 50
                          color: '#0000ff'
                        - value: 75
                          color: '#ffff00'
                        - value: 100
                          color: '#ff0000'                      
                  
                
                          
                - type: custom:vertical-stack-in-card
                  cards:
                  - type: custom:bar-card
                    title_position: top
                    title: Files
                    show_icon: true
                    align: center
                    padding: 1.5px
                    height: 40
                    card_style: 
                      border-radius: 5px
                    columns: 1
                    max: 200
                    entities:
                      - entity: sensor.synology_dsm_average_disk_temp_volume_2
                        icon: mdi:thermometer
                        unit_of_measurement: '°F'
                        
                        severity:
                        - value: 130
                          color: '#1db954'
                        - value: 140
                          color: '#bf9540'
                        - value: 150
                          color: '#bf4040'
                  - type: custom:bar-card
                    title_position: top
                    title: RAM
                    show_icon: true
                    align: center
                    padding: 1.5px
                    height: 40
                    card_style: 
                      border-radius: 5px
                    columns: 1
                    max: 100
                    entities:
                      - entity: sensor.synology_dsm_memory_usage_real
                        icon: mdi:chip
                        unit_of_measurement: '%'
                        
                        severity:
                        - value: 50
                          color: '#0000ff'
                        - value: 75
                          color: '#ffff00'
                        - value: 100
                          color: '#ff0000'                      
                  
                - type: custom:circle-sensor-card
                  entity: sensor.synology_dsm_volume_used_volume_2
                  max: 100
                  min: 0
                  stroke_width: 15
                  gradient: true
                  fill: '#383C45'
                  name: Used
                  units: '%'
                  color_stops:
                    80: '#00ff00'
                    100: '#ff0000'
                  font_style: {font-size: 1.1em, font-color: white, text-shadow: '2px 2px black'}
                  style: {top: 5%, left: 80%, width: 6em, height: 6em, transform: none}

#################################################################
#                                                               #
#                    System Status - HA Card                    #
#                                                               #
#################################################################
 
          - type: custom:vertical-stack-in-card
            cards:
            - type: picture-elements
              image: /local/lovelace/room.png
              elements:
                - entity: sensor.blank
                  hold-action: none
                  prefix: "Hass.io"
                  style:
                    bottom: 20%
                    font-size: 150%
                    left: 5%
                    transform: initial
                  tap-action: none
                  type: state-label
                - entity: sensor.hass_uptime
                  prefix: "Uptime: "
                  style:
                    bottom: 23%
                    font-size: 110%
                    right: 5%
                    transform: initial
                  type: state-label
                
            - type: horizontal-stack
              cards:
              
              
              - type: horizontal-stack
                cards:  
                
                - type: custom:vertical-stack-in-card
                  cards:
                  - type: custom:bar-card
                    title_position: top
                    title: CPU
                    show_icon: true
                    align: center
                    padding: 1.5px
                    height: 40
                    card_style: 
                      border-radius: 5px
                    columns: 1
                    max: 100
                    entities:
                      - entity: sensor.processor_use
                        icon: mdi:flash
                        unit_of_measurement: '%'
                        
                        severity:
                        - value: 50
                          color: '#0000ff'
                        - value: 75
                          color: '#ffff00'
                        - value: 100
                          color: '#ff0000'            

                  - type: custom:bar-card
                    title_position: top
                    title: Temperature
                    show_icon: true
                    align: center
                    padding: 1.5px
                    height: 40
                    card_style: 
                      border-radius: 5px
                    columns: 1
                    max: 200
                    entities:
                      - entity: sensor.cpu_temperature
                        icon: mdi:thermometer
                        unit_of_measurement: '°F'
                        
                        severity:
                        - value: 130
                          color: '#1db954'
                        - value: 140
                          color: '#bf9540'
                        - value: 150
                          color: '#bf4040'
                            
                  
                
                          
                - type: custom:vertical-stack-in-card
                  cards:

                  - type: custom:bar-card
                    title_position: top
                    title: RAM
                    show_icon: true
                    align: center
                    padding: 1.5px
                    height: 40
                    card_style: 
                      border-radius: 5px
                    columns: 1
                    max: 100
                    entities:
                      - entity: sensor.memory_use_percent
                        icon: mdi:chip
                        unit_of_measurement: '%'
                        
                        severity:
                        - value: 50
                          color: '#0000ff'
                        - value: 75
                          color: '#ffff00'
                        - value: 100
                          color: '#ff0000'           
                          
                  - type: custom:bar-card
                    title_position: top
                    title: Disk
                    show_icon: true
                    align: center
                    padding: 1.5px
                    height: 40
                    card_style: 
                      border-radius: 5px
                    columns: 1
                    max: 200
                    entities:
                      - entity: sensor.disk_use_percent
                        icon: mdi:thermometer
                        unit_of_measurement: '%'
                        
                        severity:
                        - value: 130
                          color: '#1db954'
                        - value: 140
                          color: '#bf9540'
                        - value: 150
                          color: '#bf4040'        
            - type: horizontal-stack
              cards:
              - type: "custom:gap-card"
                height: 10
              - type: "custom:gap-card"
                height: 10
            - type: horizontal-stack
              cards:          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.automation_count
                    - sensor.automation_count_low
                    - sensor.automation_count_high
                    - input_number.automation_count_expected
                  card:
                    type: custom:bar-card
                    title: Automations
                    entity: sensor.automation_count
                    title_position: inside
                    align: center
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: sensor.automation_count
                    severity:
                      - value: ${states['sensor.automation_count_low'].state}
                        color: '#bf4040'
                      - value: ${states['input_number.automation_count_expected'].state}
                        color: '#1db954'
                      - value: ${states['sensor.automation_count_high'].state}
                        color: '#bf9540'
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_automation_count
                      data:
                        deviceID: 
                          - this

                - type: 'custom:config-template-card'
                  entities:
                    - sensor.binary_sensor_count
                    - sensor.binary_sensor_count_high
                    - sensor.binary_sensor_count_low
                    - input_number.binary_sensor_count_expected
                  card:
                    type: custom:bar-card
                    title: Binary Sensors
                    entity: sensor.binary_sensor_count
                    title_position: inside
                    align: center
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: sensor.binary_sensor_count
                    severity:
                    - value: ${states['sensor.binary_sensor_count_low'].state}
                      color: '#bf4040'
                    - value: ${states['input_number.binary_sensor_count_expected'].state}
                      color: '#1db954'
                    - value: ${states['sensor.binary_sensor_count_high'].state}
                      color: '#bf9540'
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_binary_sensor_count
                      data:
                        deviceID: 
                          - this
                    
          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.switch_count
                    - sensor.switch_count_high
                    - sensor.switch_count_low
                    - input_number.switch_count_expected
                  card:
                    type: custom:bar-card
                    title: Switches
                    entity: sensor.switch_count
                    title_position: inside
                    align: center 
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: sensor.switch_count
                    severity:
                      - value: ${states['sensor.switch_count_low'].state}
                        color: '#bf4040'
                      - value: ${states['input_number.switch_count_expected'].state}
                        color: '#1db954'
                      - value: ${states['sensor.switch_count_high'].state}
                        color: '#bf9540'
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_switch_count
                      data:
                        deviceID: 
                          - this
          
            - type: horizontal-stack
              cards:          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.fan_count
                    - sensor.fan_count_high
                    - sensor.fan_count_low
                    - input_number.fan_count_expected
                  card:
                    type: custom:bar-card
                    title: Fans
                    entity: sensor.fan_count
                    title_position: inside
                    align: center
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: sensor.fan_count
                    severity:
                      - value: ${states['sensor.fan_count_low'].state}
                        color: '#bf4040'
                      - value: ${states['input_number.fan_count_expected'].state}
                        color: '#1db954'
                      - value: ${states['sensor.fan_count_high'].state}
                        color: '#bf9540'
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_fan_count
                      data:
                        deviceID: 
                          - this
              
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.lights_count
                    - sensor.light_count_high
                    - sensor.light_count_low
                    - input_number.light_count_expected
                  card:
                    type: custom:bar-card
                    title: Lights
                    entity: sensor.lights_count
                    title_position: inside
                    align: center
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: sensor.lights_count
                    severity:
                      - value: ${states['sensor.light_count_low'].state}
                        color: '#bf4040'
                      - value: ${states['input_number.light_count_expected'].state}
                        color: '#1db954'
                      - value: ${states['sensor.light_count_high'].state}
                        color: '#bf9540'
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_lights_count
                      data:
                        deviceID: 
                          - this
          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.tracker_count
                    - sensor.tracked_device_count_high
                    - sensor.tracked_device_count_low
                    - input_number.tracked_device_count_expected
                  card:
                    type: custom:bar-card
                    title: Tracked Devices
                    entity: sensor.tracker_count
                    title_position: inside
                    align: center 
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: sensor.tracker_count
                    severity:
                      - value: ${states['sensor.tracked_device_count_low'].state}
                        color: '#bf4040'
                      - value: ${states['input_number.tracked_device_count_expected'].state}
                        color: '#1db954'
                      - value: ${states['sensor.tracked_device_count_high'].state}
                        color: '#bf9540'
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_tracker_count
                      data:
                        deviceID: 
                          - this
            
            - type: horizontal-stack
              cards:          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.media_player_count
                    - sensor.media_player_count_high
                    - sensor.media_player_count_low
                    - input_number.media_player_count_expected
                  card:
                    type: custom:bar-card
                    title: Media Players
                    entity: sensor.media_player_count
                    title_position: inside
                    align: center
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: sensor.media_player_count
                    severity:
                      - value: ${states['sensor.media_player_count_low'].state}
                        color: '#bf4040'
                      - value: ${states['input_number.media_player_count_expected'].state}
                        color: '#1db954'
                      - value: ${states['sensor.media_player_count_high'].state}
                        color: '#bf9540'
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_media_player_count
                      data:
                        deviceID: 
                          - this
          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.script_count
                    - sensor.script_count_high
                    - sensor.script_count_low
                    - input_number.script_count_expected
                  card:
                    type: custom:bar-card
                    title: Scripts
                    entity: sensor.script_count
                    title_position: inside
                    align: center 
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: sensor.script_count
                    severity:
                      - value: ${states['sensor.script_count_low'].state}
                        color: '#bf4040'
                      - value: ${states['input_number.script_count_expected'].state}
                        color: '#1db954'
                      - value: ${states['sensor.script_count_high'].state}
                        color: '#bf9540'
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_script_count
                      data:
                        deviceID: 
                          - this
                
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.sensor_count
                    - sensor.sensor_count_high
                    - sensor.sensor_count_low
                    - input_number.sensor_count_expected
                  card:
                    type: custom:bar-card
                    title: Sensors
                    entity: sensor.sensor_count
                    title_position: inside
                    align: center
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: sensor.sensor_count
                    severity:
                      - value: ${states['sensor.sensor_count_low'].state}
                        color: '#bf4040'
                      - value: ${states['input_number.sensor_count_expected'].state}
                        color: '#1db954'
                      - value: ${states['sensor.sensor_count_high'].state}
                        color: '#bf9540'
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_sensor_count
                      data:
                        deviceID: 
                          - this

#################################################################
#                                                               #
#                      Home - GitHub                            #
#                                                               #
################################################################# 
      - type: vertical-stack
        cards:           
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: binary_sensor.git_update_ready
                color_type: icon
                icon: mdi:github-circle
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: GitHub
                tap_action:
                  action: call-service
                  service: script.popup_github
                  service_data:
                    deviceID: 
                      - this
                hold_action: 
                  action: call-service
                  service: script.popup_github
                  service_data:
                    deviceID: 
                      - this
              - type: "custom:button-card"
                entity: sensor.hacs
                color_type: icon
                icon: mdi:package
                state:
                  - value: 0
                    operator: '>'
                    color: rgb(228, 94, 101)
                  - value: 0
                    color: rgb(255, 255, 255)
                name: HACS
                tap_action:
                  action: call-service
                  service: script.popup_hacs
                  service_data:
                    deviceID: 
                      - this
                hold_action: 
                  action: call-service
                  service: script.popup_hacs
                  service_data:
                    deviceID: 
                      - this
              - type: "custom:button-card"
                entity: binary_sensor.updater
                color_type: icon
                icon: mdi:home-assistant
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: Hass.io
                tap_action:
                  action: more-info
                hold_action: 
                  action: more-info

#################################################################
#                                                               #
#                       Config - Zigbee2MQTT                    #
#                                                               #
#################################################################
        
          - type: entities
            show_header_toggle: false
            title: Zigbee2MQTT
            entities:
            - entity: input_boolean.zigbee_permit_join
            - entity: timer.zigbee_permit_join
            - entity: sensor.bridge_state    

          - type: custom:vertical-stack-in-card
            cards:
              - type: picture-elements
                image: /local/lovelace/room.png
                elements:
                  - entity: sensor.blank
                    hold-action: none
                    prefix: RainMachine
                    style:
                      bottom: 20%
                      font-size: 150%
                      left: 5%
                      transform: initial
                    tap-action: none
                    type: state-label
                
              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.irrigation_program
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:alarm-check
                    name: Program Enable
                    hold_action: 
                      action: more-info
                  - type: "custom:button-card"
                    entity: switch.irrigation_run_program
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:weather-pouring
                    name: Run Program
                    hold_action: 
                      action: more-info

              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.front_yard_right
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:numeric-1-box
                    name: R Front
                    hold_action: 
                      action: more-info
                  - type: "custom:button-card"
                    entity: switch.front_yard_left
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:numeric-2-box
                    name: L Front
                    hold_action: 
                      action: more-info
                  - type: "custom:button-card"
                    entity: switch.front_flower_bed
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:numeric-3-box
                    name: Flowerbed
                    hold_action: 
                      action: more-info
                  - type: "custom:button-card"
                    entity: switch.back_yard
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:numeric-4-box
                    name: Back
                    hold_action: 
                      action: more-info

          - type: horizontal-stack
            cards:
              - type: entities
                title: "US Cases"
                entities:
                  - entity: sensor.covid_us_total
                    name: Total
                  - entity: sensor.covid_us_today_new
                    name: Today
                  - entity: sensor.covid_us_yesterday_new
                    name: Yesterday
              - type: horizontal-stack
                cards:
                  - type: entities
                    title: "Worldwide Cases"
                    entities:
                      - entity: sensor.covid_world_total
                        name: Total
                      - entity: sensor.covid_world_today_new
                        name: Today
                      - entity: sensor.covid_world_yesterday_new
                        name: Yesterday                      

#################################################################
#                                                               #
#                       Den Harmony Control                     #
#                                                               #
#################################################################
        
          - type: horizontal-stack
            cards:                  

              - type: "custom:button-card"
                entity: remote.harmony_hub
                color_type: icon
                color: rgb(255, 255, 255)
                icon: mdi:remote-tv-off
                name: "Off"
                tap_action:
                  action: call-service
                  service: remote.turn_off
                  service_data:
                    entity_id: remote.harmony_hub
              
              - type: "custom:button-card"
                entity: remote.harmony_hub
                color_type: icon
                color: rgb(255, 255, 255)
                icon: mdi:volume-minus
                name: "Down"
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.harmony_hub
                    command:
                      - VolumeDown
                    device: 35324836

              - type: "custom:button-card"
                entity: remote.harmony_hub
                color_type: icon
                color: rgb(255, 255, 255)
                icon: mdi:volume-mute
                name: "Mute"
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.harmony_hub
                    command:
                      - Mute
                    device: 35324836      

              - type: "custom:button-card"
                entity: remote.harmony_hub
                color_type: icon
                color: rgb(255, 255, 255)
                icon: mdi:volume-plus
                name: "Up"
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.harmony_hub
                    command:
                      - VolumeUp
                    device: 35324836        

