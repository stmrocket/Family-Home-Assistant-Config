title: The Geek House

resources:
  - url: /local/hacsfiles/bar-card/bar-card.js
    type: js
  - url: /local/community/button-card/button-card.js
    type: module
  - url: /local/community/lovelace-card-modder/card-modder.js
    type: module
  - url: /local/community/lovelace-card-tools/card-tools.js
    type: js
  - url: /local/community/circle-sensor-card/circle-sensor-card.js
    type: module
  - url: /local/community/custom-header/custom-header.js
    type: module
  - url: /local/community/dark-sky-weather-card/dark-sky-weather-card.js
    type: module
  - url: /local/community/lovelace-fold-entity-row/fold-entity-row.js
    type: js
  - url: /local/community/lovelace-gap-card/gap-card.js
    type: js
  - url: /community_plugin/mini-graph-card/mini-graph-card-bundle.js
    type: module
  - url: /community_plugin/mini-media-player/mini-media-player-bundle.js
    type: module
  - url: /local/custom_ui/moment.js
    type: js
  - url: /local/community/text-divider-row/text-divider-row.js
    type: module
  - url: /local/community/vertical-stack-in-card/vertical-stack-in-card.js
    type: js
  - url: /local/community/config-template-card/config-template-card.js
    type: module 
  - url: /local/community/simple-thermostat/simple-thermostat.js
    type: module
  - url: /local/community/list-card/list-card.js
    type: js
  - url: /local/community/text-element/text-element.js
    type: js
  - url: /local/community/lovelace-card-preloader/lovelace-card-preloader.js
    type: js
  - url: /local/community/lovelace-card-mod/card-mod.js
    type: module

# Preload Cards

preload:
  - picture-elements

#################################################################
#                                                               #
#                    Compact Header Config                      #
#                                                               #
################################################################# 

custom_header:
  background: 'rgba(150, 150, 150, 0.2)'
  compact_mode: true
  hide_config: true
  hide_unused: true
  hide_help: true
  button_text:
    options: '{{ time }}<br>{{ date }}'
  default_tab: '0'

#############################################################################################################################################
#                                                                                                                                           # 
#                                                                BEGIN VIEWS                                                                #
#                                                                                                                                           #
#############################################################################################################################################  
 
background: center / cover no-repeat url("/local/lovelace/background_19.png") fixed
views: 
  
#############################################################################################################################################
#                                                                                                                                           # 
#                                                               VIEW 0 - HOME                                                               #
#                                                                                                                                           #
#############################################################################################################################################  

  - id: 0
    icon: mdi:castle
    name: Home
    cards:

#################################################################
#                                                               #
#                      Home - Weather Card                      #
#                                                               #
#################################################################

        - type: vertical-stack
          cards:
            - type: 'custom:dark-sky-weather-card'
              entity_current_conditions: sensor.dark_sky_icon
              entity_temperature: sensor.aquara_outside_temperature
              entity_forecast_high_temp_1: sensor.dark_sky_daytime_high_temperature_1d
              entity_forecast_high_temp_2: sensor.dark_sky_daytime_high_temperature_2d
              entity_forecast_high_temp_3: sensor.dark_sky_daytime_high_temperature_3d
              entity_forecast_high_temp_4: sensor.dark_sky_daytime_high_temperature_4d
              entity_forecast_high_temp_5: sensor.dark_sky_daytime_high_temperature_5d
              entity_forecast_icon_1: sensor.dark_sky_icon_1d
              entity_forecast_icon_2: sensor.dark_sky_icon_2d
              entity_forecast_icon_3: sensor.dark_sky_icon_3d
              entity_forecast_icon_4: sensor.dark_sky_icon_4d
              entity_forecast_icon_5: sensor.dark_sky_icon_5d
              entity_forecast_low_temp_1: sensor.dark_sky_overnight_low_temperature_1d
              entity_forecast_low_temp_2: sensor.dark_sky_overnight_low_temperature_2d
              entity_forecast_low_temp_3: sensor.dark_sky_overnight_low_temperature_3d
              entity_forecast_low_temp_4: sensor.dark_sky_overnight_low_temperature_4d
              entity_forecast_low_temp_5: sensor.dark_sky_overnight_low_temperature_5d
              entity_summary_1: sensor.dark_sky_summary_1d
              entity_summary_2: sensor.dark_sky_summary_2d
              entity_summary_3: sensor.dark_sky_summary_3d
              entity_summary_4: sensor.dark_sky_summary_4d
              entity_summary_5: sensor.dark_sky_summary_5d
              ## Optional Parameters ##
              entity_sun: sun.sun
              entity_visibility: sensor.dark_sky_visibility
              entity_wind_bearing: sensor.dark_sky_wind_bearing
              entity_wind_speed: sensor.dark_sky_wind_speed
              entity_humidity: sensor.aquara_outside_humidity
              entity_pressure: sensor.aquara_outside_pressure
              entity_daily_summary: sensor.dark_sky_daily_summary
              entity_pop_intensity: sensor.dark_sky_precip_intensity
              entity_pop_1: sensor.dark_sky_precip_probability_1d
              entity_pop_2: sensor.dark_sky_precip_probability_2d
              entity_pop_3: sensor.dark_sky_precip_probability_3d
              entity_pop_4: sensor.dark_sky_precip_probability_4d
              entity_pop_5: sensor.dark_sky_precip_probability_5d
              entity_daytime_high: sensor.dark_sky_daytime_high_temperature_0d
              entity_pop: sensor.dark_sky_precip_probability_0d

#################################################################
#                                                               #
#                       Home - Cameras                          #
#                                                               #
################################################################# 
            - type: glance
              columns: 4
              show_name: true
              show_state: false
              entities:
                  - entity: camera.front_porch
                  - entity: camera.back_porch
                  - entity: camera.den
                  - entity: camera.kitchen

#################################################################
#                                                               #
#                          Home - HVAC                          #
#                                                               #
################################################################# 
        - type: vertical-stack
          cards: 
            - type: custom:vertical-stack-in-card
              cards:
                  - type: custom:simple-thermostat
                    entity: climate.home
                    icon: mdi:thermostat-box
                    step_size: 1
                    decimals: 0
                    sensors:
                    - attribute: current_humidity
                      name: Humidity
                      unit: "%"
                    - entity: sensor.hvac_system_state
                      name: State
                    hide:
                      state: true
                    control:
                      - hvac:
                          mode: none
                    

                  - type: horizontal-stack
                    cards:          

                      - type: custom:bar-card
                        name: 'Heat:'
                        entity: sensor.hvac_system_heat_runtime
                        entity_row: true
                        positions:
                          icon: 'off'
                          title: inside
                          value: inside
                        padding: 4px
                        card_style: 
                          border-radius: 5px
                        max: 24
                        color: red
                        decimal: 2
                        style: |-
                          bar-card-value {
                            margin-right: auto;
                            margin-left: auto;
                            margin-bottom: auto;
                            margin-top: 0px;
                          }
                          bar-card-divider {
                            display: none;
                          }
                          bar-card-contentbar {
                            flex-direction: column;
                          }
                        
                      - type: custom:bar-card
                        name: 'Cool:'
                        entity: sensor.hvac_system_cool_runtime
                        entity_row: true
                        positions:
                          icon: 'off'
                          title: inside
                          value: inside
                        padding: 4px
                        card_style: 
                          border-radius: 5px
                        max: 24
                        color: blue
                        decimal: 2
                        style: |-
                          bar-card-value {
                            margin-right: auto;
                            margin-left: auto;
                            margin-bottom: auto;
                            margin-top: 0px;
                          }
                          bar-card-divider {
                            display: none;
                          }
                          bar-card-contentbar {
                            flex-direction: column;
                          }

                  - type: horizontal-stack
                    cards:          

                      - type: custom:bar-card
                        name: 'Fan:'
                        entity: sensor.hvac_system_fan_runtime
                        entity_row: true
                        positions:
                          icon: 'off'
                          title: inside
                          value: inside
                        padding: 4px
                        card_style: 
                          border-radius: 5px
                        max: 24
                        color: green
                        decimal: 2
                        style: |-
                          bar-card-value {
                            margin-right: auto;
                            margin-left: auto;
                            margin-bottom: auto;
                            margin-top: 0px;
                          }
                          bar-card-divider {
                            display: none;
                          }
                          bar-card-contentbar {
                            flex-direction: column;
                          }
                        
                      - type: custom:bar-card
                        name: 'Total:'
                        entity: sensor.hvac_system_runtime
                        entity_row: true
                        positions:
                          icon: 'off'
                          title: inside
                          value: inside
                        padding: 4px
                        card_style: 
                          border-radius: 5px
                        max: 24
                        decimal: 2
                        style: |-
                          bar-card-value {
                            margin-right: auto;
                            margin-left: auto;
                            margin-bottom: auto;
                            margin-top: 0px;
                          }
                          bar-card-divider {
                            display: none;
                          }
                          bar-card-contentbar {
                            flex-direction: column;
                          }

#################################################################
#                                                               #
#                       Home - Buttons                          #
#                                                               #
################################################################# 
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: switch.driveway
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:road
                  name: Driveway
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: light.front_porch_1
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:door
                  name: Front Porch
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: light.entry
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:ceiling-light
                  name: Entry
                  hold_action: 
                    action: more-info

            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: switch.right_back_porch
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:spotlight
                  name: L Flood
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: switch.back_porch_1
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:door
                  name: Back Porch
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: switch.left_back_porch
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:spotlight
                  name: R Flood
                  hold_action: 
                    action: more-info
            
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: switch.den_lamp
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:lamp
                  name: Den
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: light.master_lamp
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:lamp
                  name: Master
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: light.guest_lamp
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:lamp
                  name: Guest
                  hold_action: 
                    action: more-info
                - type: "custom:button-card"
                  entity: light.craft_room_lamp
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:lamp
                  name: Craft
                  hold_action: 
                    action: more-info
            # - type: horizontal-stack
            #   cards:                    
            #     - type: "custom:gap-card"
            #     - type: "custom:gap-card"
            #     - type: "custom:gap-card"
            #     - type: "custom:button-card"
            #       entity: switch.christmas_tree
            #       color_type: icon
            #       color: rgb(228, 94, 101)
            #       icon: mdi:pine-tree
            #       name: Tree
            #       hold_action: 
            #         action: more-info
################################################################
#                                                               #
#                          Home - Laundry                       #
#                                                               #
################################################################# 
        - type: vertical-stack
          cards: 
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"
                - type: "custom:button-card"
                  entity: sensor.washer_state
                  color_type: icon
                  icon: mdi:washing-machine
                  state:
                    - value: "Washing"
                      color: rgb(228, 94, 101)
                      name: Washing
                    - value: "Idle"
                      color: rgb(255, 255, 255)
                      name: Idle   
                  tap_action:
                    action: call-service
                    service: script.popup_washer
                    service_data:
                      deviceID: 
                        - this                
                  hold_action: 
                    action: call-service
                    service: script.popup_washer
                    service_data:
                      deviceID: 
                        - this

                - type: "custom:button-card"
                  entity: sensor.dryer_state
                  color_type: icon
                  icon: mdi:tumble-dryer
                  state:
                    - value: "Drying"
                      color: rgb(228, 94, 101)
                      name: Drying
                    - value: "Idle"
                      color: rgb(255, 255, 255)
                      name: Idle
                    - value: "Door Open"
                      color: rgb(255, 200, 0)
                      name: Door                    
                  tap_action:
                    action: call-service
                    service: script.popup_dryer
                    service_data:
                      deviceID: 
                        - this              
                  hold_action: 
                    action: call-service
                    service: script.popup_dryer
                    service_data:
                      deviceID: 
                        - this
                - type: "custom:gap-card"

#################################################################
#                                                               #
#                      Home - Alarm                             #
#                                                               #
################################################################# 
            - type: alarm-panel
              name: House Alarm
              states:
                - arm_home
                - arm_away
                - arm_night
              entity: alarm_control_panel.area_001

#############################################################################################################################################
#                                                                                                                                           # 
#                                                          VIEW 5 - SYSTEM STATUS                                                          #
#                                                                                                                                           #
#############################################################################################################################################

  - id: 1
    icon: mdi:server-network
    name: System Status
    cards:
       
#################################################################
#                                                               #
#                  System Status - Internet Card                #
#                                                               #
#################################################################

      - type: vertical-stack
        cards:
          - type: custom:vertical-stack-in-card
            cards:
            - type: custom:mini-graph-card
              entities: 
                - sensor.wan_ping
              height: 20
              line_width: 2
              font_size: 70
              hours_to_show: 24
              points_per_hour: 6
              icon: mdi:pulse
              show:
                #extrema: true
                fill: true
                graph: bar
              color_thresholds:
                - value: 25
                  color: "#FF0000"
                - value: 0
                  color: "#3498db"
              
            - type: horizontal-stack
              cards:          
                - type: custom:bar-card
                  name: WAN IN
                  entity: sensor.wan_in_mbps
                  entity_row: true
                  positions:
                    icon: 'off'
                    title: inside
                    value: inside
                  padding: 4px
                  card_style: 
                    border-radius: 5px
                  max: 1000
                  severity:
                  - from: 0
                    to: 99
                    color: '#00ff00'
                  - from: 100
                    to: 499
                    color: '#ffff00'
                  - from: 500
                    to: 1000
                    color: '#ff0000'
                  style: |-
                    bar-card-value {
                      margin-right: auto;
                      margin-left: auto;
                      margin-bottom: auto;
                      margin-top: 0px;
                    }
                    bar-card-divider {
                      display: none;
                    }
                    bar-card-contentbar {
                      flex-direction: column;
                    }

                - type: custom:bar-card
                  name: WAN OUT
                  entity: sensor.wan_out_mbps
                  entity_row: true
                  positions:
                    icon: 'off'
                    title: inside
                    value: inside
                  padding: 4px
                  card_style: 
                    border-radius: 5px
                  max: 1000
                  severity:
                  - from: 0
                    to: 99
                    color: '#00ff00'
                  - from: 100
                    to: 499
                    color: '#ffff00'
                  - from: 500
                    to: 1000
                    color: '#ff0000'
                  style: |-
                    bar-card-value {
                      margin-right: auto;
                      margin-left: auto;
                      margin-bottom: auto;
                      margin-top: 0px;
                    }
                    bar-card-divider {
                      display: none;
                    }
                    bar-card-contentbar {
                      flex-direction: column;
                    }

#################################################################
#                                                               #
#                    System Status - NAS Card                   #
#                                                               #
#################################################################

          - type: custom:vertical-stack-in-card
            cards:
              - type: picture-elements
                image: /local/lovelace/room.png
                elements:
                  - entity: sensor.blank
                    hold-action: none
                    prefix: "NAS "
                    style:
                      bottom: 20%
                      font-size: 150%
                      left: 5%
                      transform: initial
                    tap_action: none
                    hold_action: none
                    type: state-label
                  - entity: sensor.nas_uptime
                    prefix: "Uptime: "
                    style:
                      bottom: 23%
                      font-size: 110%
                      right: 5%
                      transform: initial
                    type: state-label
              - type: horizontal-stack
                cards:
                
                  - type: horizontal-stack
                    cards:  
                      - type: custom:vertical-stack-in-card
                        cards:
                          - type: custom:bar-card
                            name: Disk (Videos)
                            entity: sensor.synology_volume_used_volume_2
                            entity_row: true
                            positions:
                              icon: 'off'
                              title: inside
                              value: inside
                            padding: 4px
                            card_style: 
                              border-radius: 5px
                            max: 100
                            severity:
                              - from: 0
                                to: 79
                                color: '#1db954'
                              - from: 80
                                to: 94
                                color: '#bf9540'
                              - from: 95
                                to: 100
                                color: '#ff0000'  
                            style: |-
                              bar-card-value {
                                margin-right: auto;
                                margin-left: auto;
                                margin-bottom: auto;
                                margin-top: 0px;
                              }
                              bar-card-divider {
                                display: none;
                              }
                              bar-card-contentbar {
                                flex-direction: column;
                              }                    
                          - type: custom:bar-card
                            name: Temperature (Videos)
                            entity: sensor.synology_average_disk_temp_volume_2
                            entity_row: true
                            positions:
                              icon: 'off'
                              title: inside
                              value: inside
                            padding: 4px
                            card_style: 
                              border-radius: 5px
                            max: 200
                            severity:
                              - from: 0
                                to: 130
                                color: '#1db954'
                              - from: 131
                                to: 140
                                color: '#bf9540'
                              - from: 141
                                to: 150
                                color: '#bf4040'
                            style: |-
                              bar-card-value {
                                margin-right: auto;
                                margin-left: auto;
                                margin-bottom: auto;
                                margin-top: 0px;
                              }
                              bar-card-divider {
                                display: none;
                              }
                              bar-card-contentbar {
                                flex-direction: column;
                              }
                              bar-card-name {
                                margin-right: auto;
                                margin-left: auto;
                                margin-bottom: auto;
                                margin-top: 0px;
                              }

                        
                      - type: custom:vertical-stack-in-card
                        cards:
                        - type: custom:bar-card
                          name: CPU
                          entity: sensor.synology_cpu_load_total
                          entity_row: true
                          positions:
                            icon: 'off'
                            title: inside
                            value: inside
                          padding: 4px
                          card_style: 
                            border-radius: 5px
                          max: 100
                          severity:
                            - from: 0
                              to: 50
                              color: '#1db954'
                            - from: 51
                              to: 75
                              color: '#bf9540'
                            - from: 76
                              to: 100
                              color: '#ff0000'  
                          style: |-
                            bar-card-value {
                              margin-right: auto;
                              margin-left: auto;
                              margin-bottom: auto;
                              margin-top: 0px;
                            }
                            bar-card-divider {
                              display: none;
                            }
                            bar-card-contentbar {
                              flex-direction: column;
                            }   
                        - type: custom:bar-card
                          name: RAM
                          entity: sensor.synology_memory_usage_real
                          entity_row: true
                          positions:
                            icon: 'off'
                            title: inside
                            value: inside
                          padding: 4px
                          card_style: 
                            border-radius: 5px
                          max: 100
                          severity:
                            - from: 0
                              to: 50
                              color: '#1db954'
                            - from: 51
                              to: 75
                              color: '#bf9540'
                            - from: 76
                              to: 100
                              color: '#ff0000'            
                          style: |-
                            bar-card-value {
                              margin-right: auto;
                              margin-left: auto;
                              margin-bottom: auto;
                              margin-top: 0px;
                            }
                            bar-card-divider {
                              display: none;
                            }
                            bar-card-contentbar {
                              flex-direction: column;
                            }                           
                        
                      - type: custom:vertical-stack-in-card
                        cards:
                          - type: custom:bar-card
                            name: Disk (Files)
                            entity: sensor.synology_volume_used_volume_1
                            entity_row: true
                            positions:
                              icon: 'off'
                              title: inside
                              value: inside
                            padding: 4px
                            card_style: 
                              border-radius: 5px
                            max: 100
                            severity:
                              - from: 0
                                to: 79
                                color: '#1db954'
                              - from: 80
                                to: 94
                                color: '#bf9540'
                              - from: 95
                                to: 100
                                color: '#ff0000'  
                            style: |-
                              bar-card-value {
                                margin-right: auto;
                                margin-left: auto;
                                margin-bottom: auto;
                                margin-top: 0px;
                              }
                              bar-card-divider {
                                display: none;
                              }
                              bar-card-contentbar {
                                flex-direction: column;
                              }  
                          - type: custom:bar-card
                            name: Temperature (Files)
                            entity: sensor.synology_average_disk_temp_volume_1
                            entity_row: true
                            positions:
                              icon: 'off'
                              title: inside
                              value: inside
                            padding: 4px
                            card_style: 
                              border-radius: 5px
                            max: 200
                            severity:
                              - from: 0
                                to: 130
                                color: '#1db954'
                              - from: 131
                                to: 140
                                color: '#bf9540'
                              - from: 141
                                to: 150
                                color: '#bf4040'  
                            style: |-
                              bar-card-value {
                                margin-right: auto;
                                margin-left: auto;
                                margin-bottom: auto;
                                margin-top: 0px;
                              }
                              bar-card-divider {
                                display: none;
                              }
                              bar-card-contentbar {
                                flex-direction: column;
                              }              

#################################################################
#                                                               #
#                    System Status - HA Card                    #
#                                                               #
#################################################################
 
          - type: custom:vertical-stack-in-card
            cards:
            - type: picture-elements
              image: /local/lovelace/room.png
              elements:
                - entity: sensor.blank
                  hold-action: none
                  prefix: "Hass.io"
                  style:
                    bottom: 20%
                    font-size: 150%
                    left: 5%
                    transform: initial
                  tap_action: none
                  hold_action: none
                  double_tap_action:
                    action: call-service
                    service: script.reset_all_entity_counters
                  type: state-label
                - entity: sensor.hass_uptime
                  prefix: "Uptime: "
                  style:
                    bottom: 23%
                    font-size: 110%
                    right: 5%
                    transform: initial
                  type: state-label
                
            - type: horizontal-stack
              cards:
                - type: custom:vertical-stack-in-card
                  cards:
                    - type: custom:bar-card
                      name: CPU
                      entity: sensor.processor_use
                      entity_row: true
                      positions:
                        icon: 'off'
                        title: inside
                        value: inside
                      padding: 4px
                      card_style: 
                        border-radius: 5px
                      max: 100
                      severity:
                      - from: 0
                        to: 50
                        color: '#1db954'
                      - from: 51
                        to: 75
                        color: '#bf9540'
                      - from: 76
                        to: 100
                        color: '#ff0000'  
                      style: |-
                        bar-card-value {
                          margin-right: auto;
                          margin-left: auto;
                          margin-bottom: auto;
                          margin-top: 0px;
                        }
                        bar-card-divider {
                          display: none;
                        }
                        bar-card-contentbar {
                          flex-direction: column;
                        }   
                    - type: custom:bar-card
                      name: RAM
                      entity: sensor.memory_use_percent
                      entity_row: true
                      positions:
                        icon: 'off'
                        title: inside
                        value: inside
                      padding: 4px
                      card_style: 
                        border-radius: 5px
                      max: 100
                      severity:
                      - from: 0
                        to: 50
                        color: '#1db954'
                      - from: 51
                        to: 75
                        color: '#bf9540'
                      - from: 76
                        to: 100
                        color: '#ff0000'            
                      style: |-
                        bar-card-value {
                          margin-right: auto;
                          margin-left: auto;
                          margin-bottom: auto;
                          margin-top: 0px;
                        }
                        bar-card-divider {
                          display: none;
                        }
                        bar-card-contentbar {
                          flex-direction: column;
                        }                          
                - type: custom:vertical-stack-in-card
                  cards:
                    - type: custom:bar-card
                      name: Disk
                      entity: sensor.disk_use_percent
                      entity_row: true
                      positions:
                        icon: 'off'
                        title: inside
                        value: inside
                      padding: 4px
                      card_style: 
                        border-radius: 5px
                      max: 100
                      severity:
                      - from: 0
                        to: 79
                        color: '#1db954'
                      - from: 80
                        to: 94
                        color: '#bf9540'
                      - from: 95
                        to: 100
                        color: '#ff0000'  
                      style: |-
                        bar-card-value {
                          margin-right: auto;
                          margin-left: auto;
                          margin-bottom: auto;
                          margin-top: 0px;
                        }
                        bar-card-divider {
                          display: none;
                        }
                        bar-card-contentbar {
                          flex-direction: column;
                        }                    
                    - type: custom:bar-card
                      name: Temperature
                      entity: sensor.cpu_temperature
                      entity_row: true
                      positions:
                        icon: 'off'
                        title: inside
                        value: inside
                      padding: 4px
                      card_style: 
                        border-radius: 5px
                      max: 200
                      severity:
                      - from: 0
                        to: 140
                        color: '#1db954'
                      - from: 141
                        to: 160
                        color: '#bf9540'
                      - from: 161
                        to: 200
                        color: '#bf4040'  
                      style: |-
                        bar-card-value {
                          margin-right: auto;
                          margin-left: auto;
                          margin-bottom: auto;
                          margin-top: 0px;
                        }
                        bar-card-divider {
                          display: none;
                        }
                        bar-card-contentbar {
                          flex-direction: column;
                        }              
            - type: horizontal-stack
              cards:
              - type: "custom:gap-card"
                height: 10
              - type: "custom:gap-card"
                height: 10
            - type: horizontal-stack
              cards:          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.automation_count
                    - sensor.automation_count_low
                    - sensor.automation_count_high
                    - input_number.automation_count_expected
                  card:
                    type: custom:bar-card
                    name: Automations
                    entity: sensor.automation_count
                    entity_row: true
                    positions:
                      icon: 'off'
                      name: inside
                      value: inside
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: ${states['sensor.automation_count'].state}
                    severity:
                      - from: 0
                        to: ${states['sensor.automation_count_low'].state}
                        color: '#bf4040'
                      - from: ${states['input_number.automation_count_expected'].state}
                        to: ${states['input_number.automation_count_expected'].state}
                        color: '#1db954'
                      - from: ${states['input_number.automation_count_expected'].state + 1}
                        to: ${states['sensor.automation_count_high'].state}
                        color: '#bf9540'
                    style: |-
                      .contentbar-direction-right {
                        flex-direction: column;
                      }
                      .min-direction-right {
                        margin: 0px;
                        margin-bottom: -20px;
                        bottom: 10px;
                      }
                        bar-card-value {
                        margin: 0px;
                        font-size: 13px;
                        margin-left: auto;
                        margin-right: auto;
                        font-weight: bold;
                        text-shadow: 1px 1px #0005;
                      }
                      bar-card-name {
                        margin: 0px;
                        margin-top: 5px;
                        font-size: 14px;
                        font-weight: bold;
                        text-shadow: 1px 1px #0005;              
                      }
                      bar-card-max {
                        margin: 0px;
                        margin-left: auto;
                        margin-top: -20px;
                        top: 10px;
                      }
                      bar-card-divider {
                        display: none;
                      }                     
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_automation_count
                      data:
                        deviceID: 
                          - this

                - type: 'custom:config-template-card'
                  entities:
                    - sensor.binary_sensor_count
                    - sensor.binary_sensor_count_high
                    - sensor.binary_sensor_count_low
                    - input_number.binary_sensor_count_expected
                  card:
                    type: custom:bar-card
                    name: Binary Sensors
                    entity: sensor.binary_sensor_count
                    entity_row: true
                    positions:
                      icon: 'off'
                      title: inside
                      value: inside
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: ${states['sensor.binary_sensor_count'].state}
                    severity:
                    - from: 0
                      to: ${states['sensor.binary_sensor_count_low'].state}
                      color: '#bf4040'
                    - from: ${states['input_number.binary_sensor_count_expected'].state}
                      to: ${states['input_number.binary_sensor_count_expected'].state}
                      color: '#1db954'
                    - from: ${states['input_number.binary_sensor_count_expected'].state + 1}
                      to: ${states['sensor.binary_sensor_count_high'].state}
                      color: '#bf9540'
                    style: |-
                      bar-card-value {
                        margin-right: auto;
                        margin-left: auto;
                        margin-bottom: auto;
                        margin-top: 0px;
                      }
                      bar-card-divider {
                        display: none;
                      }
                      bar-card-contentbar {
                        flex-direction: column;
                      }                    
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_binary_sensor_count
                      data:
                        deviceID: 
                          - this
                    
          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.switch_count
                    - sensor.switch_count_high
                    - sensor.switch_count_low
                    - input_number.switch_count_expected
                  card:
                    type: custom:bar-card
                    name: Switches
                    entity: sensor.switch_count
                    entity_row: true
                    positions:
                      icon: 'off'
                      title: inside
                      value: inside
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: ${states['sensor.switch_count'].state}
                    severity:
                      - from: 0 
                        to: ${states['sensor.switch_count_low'].state}
                        color: '#bf4040'
                      - from: ${states['input_number.switch_count_expected'].state}
                        to: ${states['input_number.switch_count_expected'].state}
                        color: '#1db954'
                      - from: ${states['input_number.switch_count_expected'].state + 1}
                        to: ${states['sensor.switch_count_high'].state}
                        color: '#bf9540'
                    style: |-
                      bar-card-value {
                        margin-right: auto;
                        margin-left: auto;
                        margin-bottom: auto;
                        margin-top: 0px;
                      }
                      bar-card-divider {
                        display: none;
                      }
                      bar-card-contentbar {
                        flex-direction: column;
                      }                    
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_switch_count
                      data:
                        deviceID: 
                          - this
          
            - type: horizontal-stack
              cards:          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.fan_count
                    - sensor.fan_count_high
                    - sensor.fan_count_low
                    - input_number.fan_count_expected
                  card:
                    type: custom:bar-card
                    name: Fans
                    entity: sensor.fan_count
                    entity_row: true
                    positions:
                      icon: 'off'
                      title: inside
                      value: inside
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: ${states['sensor.fan_count'].state}
                    severity:
                      - from: 0
                        to: ${states['sensor.fan_count_low'].state}
                        color: '#bf4040'
                      - from: ${states['input_number.fan_count_expected'].state}
                        to: ${states['input_number.fan_count_expected'].state}
                        color: '#1db954'
                      - from: ${states['input_number.fan_count_expected'].state + 1}
                        to: ${states['sensor.fan_count_high'].state}
                        color: '#bf9540'
                    style: |-
                      bar-card-value {
                        margin-right: auto;
                        margin-left: auto;
                        margin-bottom: auto;
                        margin-top: 0px;
                      }
                      bar-card-divider {
                        display: none;
                      }
                      bar-card-contentbar {
                        flex-direction: column;
                      }                    
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_fan_count
                      data:
                        deviceID: 
                          - this
              
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.lights_count
                    - sensor.light_count_high
                    - sensor.light_count_low
                    - input_number.light_count_expected
                  card:
                    type: custom:bar-card
                    name: Lights
                    entity: sensor.lights_count
                    entity_row: true
                    positions:
                      icon: 'off'
                      title: inside
                      value: inside
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: ${states['sensor.lights_count'].state}
                    severity:
                      - from: 0
                        to: ${states['sensor.light_count_low'].state}
                        color: '#bf4040'
                      - from: ${states['input_number.light_count_expected'].state}
                        to: ${states['input_number.light_count_expected'].state}
                        color: '#1db954'
                      - from: ${states['input_number.light_count_expected'].state + 1}
                        to: ${states['sensor.light_count_high'].state}
                        color: '#bf9540'
                    style: |-
                      bar-card-value {
                        margin-right: auto;
                        margin-left: auto;
                        margin-bottom: auto;
                        margin-top: 0px;
                      }
                      bar-card-divider {
                        display: none;
                      }
                      bar-card-contentbar {
                        flex-direction: column;
                      }                    
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_lights_count
                      data:
                        deviceID: 
                          - this
          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.tracker_count
                    - sensor.tracked_device_count_high
                    - sensor.tracked_device_count_low
                    - input_number.tracked_device_count_expected
                  card:
                    type: custom:bar-card
                    name: Tracked Devices
                    entity: sensor.tracker_count
                    entity_row: true
                    positions:
                      icon: 'off'
                      title: inside
                      value: inside
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: ${states['sensor.tracker_count'].state}
                    severity:
                      - from: 0
                        to: ${states['sensor.tracked_device_count_low'].state}
                        color: '#bf4040'
                      - from: ${states['input_number.tracked_device_count_expected'].state}
                        to: ${states['input_number.tracked_device_count_expected'].state}
                        color: '#1db954'
                      - from: ${states['input_number.tracked_device_count_expected'].state + 1}
                        to:: ${states['sensor.tracked_device_count_high'].state}
                        color: '#bf9540'
                    style: |-
                      bar-card-value {
                        margin-right: auto;
                        margin-left: auto;
                        margin-bottom: auto;
                        margin-top: 0px;
                      }
                      bar-card-divider {
                        display: none;
                      }
                      bar-card-contentbar {
                        flex-direction: column;
                      }                    
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_tracker_count
                      data:
                        deviceID: 
                          - this
            
            - type: horizontal-stack
              cards:          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.media_player_count
                    - sensor.media_player_count_high
                    - sensor.media_player_count_low
                    - input_number.media_player_count_expected
                  card:
                    type: custom:bar-card
                    name: Media Players
                    entity: sensor.media_player_count
                    entity_row: true
                    positions:
                      icon: 'off'
                      title: inside
                      value: inside
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: ${states['sensor.media_player_count'].state}
                    severity:
                      - from: 0
                        to: ${states['sensor.media_player_count_low'].state}
                        color: '#bf4040'
                      - from: ${states['input_number.media_player_count_expected'].state}
                        to: ${states['input_number.media_player_count_expected'].state}
                        color: '#1db954'
                      - from: ${states['input_number.media_player_count_expected'].state + 1}
                        to: ${states['sensor.media_player_count_high'].state}
                        color: '#bf9540'
                    style: |-
                      bar-card-value {
                        margin-right: auto;
                        margin-left: auto;
                        margin-bottom: auto;
                        margin-top: 0px;
                      }
                      bar-card-divider {
                        display: none;
                      }
                      bar-card-contentbar {
                        flex-direction: column;
                      }                    
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_media_player_count
                      data:
                        deviceID: 
                          - this
          
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.script_count
                    - sensor.script_count_high
                    - sensor.script_count_low
                    - input_number.script_count_expected
                  card:
                    type: custom:bar-card
                    name: Scripts
                    entity: sensor.script_count
                    entity_row: true
                    positions:
                      icon: 'off'
                      title: inside
                      value: inside
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: ${states['sensor.script_count'].state}
                    severity:
                      - from: 0
                        to: ${states['sensor.script_count_low'].state}
                        color: '#bf4040'
                      - from: ${states['input_number.script_count_expected'].state}
                        to: ${states['input_number.script_count_expected'].state}
                        color: '#1db954'
                      - from: ${states['input_number.script_count_expected'].state + 1}
                        to: ${states['sensor.script_count_high'].state}
                        color: '#bf9540'
                    style: |-
                      bar-card-value {
                        margin-right: auto;
                        margin-left: auto;
                        margin-bottom: auto;
                        margin-top: 0px;
                      }
                      bar-card-divider {
                        display: none;
                      }
                      bar-card-contentbar {
                        flex-direction: column;
                      }                    
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_script_count
                      data:
                        deviceID: 
                          - this
                
                - type: 'custom:config-template-card'
                  entities:
                    - sensor.sensor_count
                    - sensor.sensor_count_high
                    - sensor.sensor_count_low
                    - input_number.sensor_count_expected
                  card:
                    type: custom:bar-card
                    name: Sensors
                    entity: sensor.sensor_count
                    entity_row: true
                    positions:
                      icon: 'off'
                      title: inside
                      value: inside
                    padding: 4px
                    card_style: 
                      border-radius: 5px
                    max: ${states['sensor.sensor_count'].state}
                    severity:
                      - from: 0
                        to: ${states['sensor.sensor_count_low'].state}
                        color: '#bf4040'
                      - from: ${states['input_number.sensor_count_expected'].state}
                        to: ${states['input_number.sensor_count_expected'].state}
                        color: '#1db954'
                      - from: ${states['input_number.sensor_count_expected'].state + 1}
                        to: ${states['sensor.sensor_count_high'].state}
                        color: '#bf9540'
                    style: |-
                      bar-card-value {
                        margin-right: auto;
                        margin-left: auto;
                        margin-bottom: auto;
                        margin-top: 0px;
                      }
                      bar-card-divider {
                        display: none;
                      }
                      bar-card-contentbar {
                        flex-direction: column;
                      }                    
                    tap_action: service
                    service_options:
                      domain: script
                      service: popup_sensor_count
                      data:
                        deviceID: 
                          - this

#################################################################
#                                                               #
#                      Home - GitHub                            #
#                                                               #
################################################################# 
      - type: vertical-stack
        cards:           
          - type: custom:vertical-stack-in-card
            cards:
              - type: picture-elements
                image: /local/lovelace/room.png
                elements:
                  - entity: sensor.blank
                    hold-action: none
                    prefix: Updates
                    style:
                      bottom: 20%
                      font-size: 150%
                      left: 5%
                      transform: initial
                    tap_action: none
                    hold_action: none
                    type: state-label
              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: binary_sensor.git_update_ready
                    color_type: icon
                    icon: mdi:github-circle
                    state:
                      - value: "on"
                        color: rgb(228, 94, 101)
                      - value: "off"
                        color: rgb(255, 255, 255)
                    name: GitHub
                    tap_action:
                      action: call-service
                      service: script.popup_github
                      service_data:
                        deviceID: 
                          - this
                    hold_action: 
                      action: call-service
                      service: script.popup_github
                      service_data:
                        deviceID: 
                          - this
                  - type: "custom:button-card"
                    entity: sensor.hacs
                    color_type: icon
                    icon: mdi:package
                    state:
                      - value: 0
                        operator: '>'
                        color: rgb(228, 94, 101)
                      - value: 0
                        color: rgb(255, 255, 255)
                    name: HACS
                    tap_action:
                      action: call-service
                      service: script.popup_hacs
                      service_data:
                        deviceID: 
                          - this
                    hold_action: 
                      action: call-service
                      service: script.popup_hacs
                      service_data:
                        deviceID: 
                          - this

                  - type: "custom:button-card"
                    entity: binary_sensor.updater_addons
                    color_type: icon
                    icon: mdi:docker
                    state:
                      - value: "on"
                        color: rgb(228, 94, 101)
                      - value: "off"
                        color: rgb(255, 255, 255)
                    name: Add-Ons
                    tap_action:
                      action: call-service
                      service: script.popup_addons
                      service_data:
                        deviceID: 
                          - this
                    hold_action: 
                      action: call-service
                      service: script.popup_addons
                      service_data:
                        deviceID: 
                          - this

                  - type: "custom:button-card"
                    entity: binary_sensor.updater
                    color_type: icon
                    icon: mdi:home-assistant
                    state:
                      - value: "on"
                        color: rgb(228, 94, 101)
                      - value: "off"
                        color: rgb(255, 255, 255)
                    name: Core
                    tap_action:
                      action: more-info
                    hold_action: 
                      action: more-info
                  
                  - type: "custom:button-card"
                    entity: binary_sensor.updater_supervisor
                    color_type: icon
                    icon: mdi:server
                    state:
                      - value: "on"
                        color: rgb(228, 94, 101)
                      - value: "off"
                        color: rgb(255, 255, 255)
                    name: Supervisor
                    tap_action:
                      action: call-service
                      service: script.popup_supervisor
                      service_data:
                        deviceID: 
                          - this
                    hold_action: 
                      action: call-service
                      service: script.popup_supervisor
                      service_data:
                        deviceID: 
                          - this

#################################################################
#                                                               #
#                       Config - Zigbee2MQTT                    #
#                                                               #
#################################################################
        
          - type: entities
            show_header_toggle: false
            title: Zigbee2MQTT
            entities:
            - entity: input_boolean.zigbee_permit_join
            - entity: timer.zigbee_permit_join
            - entity: sensor.bridge_state    

          - type: custom:vertical-stack-in-card
            cards:
              - type: picture-elements
                image: /local/lovelace/room.png
                elements:
                  - entity: sensor.blank
                    hold-action: none
                    prefix: RainMachine
                    style:
                      bottom: 20%
                      font-size: 150%
                      left: 5%
                      transform: initial
                    tap_action: none
                    hold_action: none
                    type: state-label
                
              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.irrigation_program
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:alarm-check
                    name: Program Enable
                    hold_action: 
                      action: more-info
                  - type: "custom:button-card"
                    entity: switch.irrigation_run_program
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:weather-pouring
                    name: Run Program
                    hold_action: 
                      action: more-info

              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.front_yard_right
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:numeric-1-box
                    name: R Front
                    hold_action: 
                      action: more-info
                  - type: "custom:button-card"
                    entity: switch.front_yard_left
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:numeric-2-box
                    name: L Front
                    hold_action: 
                      action: more-info
                  - type: "custom:button-card"
                    entity: switch.front_flower_bed
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:numeric-3-box
                    name: Flowerbed
                    hold_action: 
                      action: more-info
                  - type: "custom:button-card"
                    entity: switch.back_yard
                    color_type: icon
                    color: rgb(0, 145, 255)
                    icon: mdi:numeric-4-box
                    name: Back
                    hold_action: 
                      action: more-info

          - type: horizontal-stack
            cards:
              - type: entities
                title: "US Cases"
                entities:
                  - entity: sensor.covid_us_total
                    name: Total
                  - entity: sensor.covid_us_today_new
                    name: Today
                  - entity: sensor.covid_us_yesterday_new
                    name: Yesterday
              - type: horizontal-stack
                cards:
                  - type: entities
                    title: "Worldwide Cases"
                    entities:
                      - entity: sensor.covid_world_total
                        name: Total
                      - entity: sensor.covid_world_today_new
                        name: Today
                      - entity: sensor.covid_world_yesterday_new
                        name: Yesterday                      

#################################################################
#                                                               #
#                       Den Harmony Control                     #
#                                                               #
#################################################################
        
          - type: horizontal-stack
            cards:                  

              - type: "custom:button-card"
                entity: remote.harmony_hub
                color_type: icon
                color: rgb(255, 255, 255)
                icon: mdi:remote-tv-off
                name: "Off"
                tap_action:
                  action: call-service
                  service: remote.turn_off
                  service_data:
                    entity_id: remote.harmony_hub
              
              - type: "custom:button-card"
                entity: remote.harmony_hub
                color_type: icon
                color: rgb(255, 255, 255)
                icon: mdi:volume-minus
                name: "Down"
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.harmony_hub
                    command:
                      - VolumeDown
                    device: 35324836

              - type: "custom:button-card"
                entity: remote.harmony_hub
                color_type: icon
                color: rgb(255, 255, 255)
                icon: mdi:volume-mute
                name: "Mute"
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.harmony_hub
                    command:
                      - Mute
                    device: 35324836      

              - type: "custom:button-card"
                entity: remote.harmony_hub
                color_type: icon
                color: rgb(255, 255, 255)
                icon: mdi:volume-plus
                name: "Up"
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.harmony_hub
                    command:
                      - VolumeUp
                    device: 35324836        

          - type: horizontal-stack
            cards:                  

              - type: "custom:button-card"
                color_type: icon
                color: rgb(255, 255, 255)
                icon: mdi:alarm
                name: "Shawn"
                lock:
                  enabled: true
                  unlock: hold
                tap_action:
                  action: call-service
                  service: rest_command.wake_remote
              
              - type: "custom:gap-card"
              - type: "custom:gap-card"
              - type: "custom:gap-card"
              - type: "custom:gap-card"